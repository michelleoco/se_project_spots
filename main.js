!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},t=(e,t,n)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(n.inputErrorClass)},n=(e,t,n)=>{(e=>e.some((e=>!e.validity.valid)))(e)?l(t,n):(t.disabled=!1,t.classList.remove(n.inactiveButtonClass))},l=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},r=document.querySelector(".profile__edit-btn"),o=document.querySelector(".profile__name"),a=document.querySelector(".profile__description"),i=document.querySelector("#edit-modal"),c=document.forms["profile-form"],d=i.querySelector(".modal__close-btn"),s=i.querySelector("#profile-name-input"),u=i.querySelector("#profile-description-input"),m=document.querySelector(".profile__add-btn"),_=document.querySelector("#add-card-modal"),y=document.forms["add-card-form"],p=_.querySelector(".modal__submit"),v=_.querySelector(".modal__close-btn"),S=_.querySelector("#image-link-input"),f=_.querySelector("#caption-input"),b=document.querySelector("#card-template"),q=document.querySelector(".cards__list"),h=document.querySelector("#preview-modal"),k=h.querySelector(".modal__image-preview"),E=h.querySelector(".modal__caption"),L=h.querySelector(".modal__close-btn_type_preview");function C(e){e.classList.add("modal_opened"),document.addEventListener("mousedown",x),document.addEventListener("keydown",O)}function g(e){e.classList.remove("modal_opened"),document.removeEventListener("mosedown",x),document.removeEventListener("keydown",O)}function x(e){e.target.classList.contains("modal_opened")&&g(e.target)}function O(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&g(e)}}function w(e){const t=b.content.querySelector(".card").cloneNode(!0),n=t.querySelector(".card__image"),l=t.querySelector(".card__title"),r=t.querySelector(".card__like-btn"),o=t.querySelector(".card__delete-btn");return l.textContent=e.name,n.src=e.link,n.alt=e.name,r.classList.remove("card__like-btn_liked"),r.addEventListener("click",(()=>{r.classList.toggle("card__like-btn_liked")})),o.addEventListener("click",(()=>{t.remove()})),n.addEventListener("click",(()=>{C(h),E.textContent=e.name,k.src=e.link,k.alt=e.name})),t}var M;r.addEventListener("click",(()=>{var n,l;s.value=o.textContent,u.value=a.textContent,n=c,l=e,[s,u].forEach((e=>{t(n,e,l)})),C(i)})),d.addEventListener("click",(()=>{g(i)})),m.addEventListener("click",(()=>{C(_)})),v.addEventListener("click",(()=>{g(_)})),c.addEventListener("submit",(function(e){e.preventDefault(),o.textContent=s.value,a.textContent=u.value,g(i)})),y.addEventListener("submit",(function(t){t.preventDefault();const n=w({name:f.value,link:S.value});q.prepend(n),t.target.reset(),l(p,e),g(_)})),L.addEventListener("click",(()=>{g(h)})),[{name:"Elephant portrait",link:"https://bit.ly/4hi1BNz",alt:"Elephant portrait by Michelle OConnell"},{name:"Elephants in the Okavango",link:"https://bit.ly/4fkQWQg",alt:"Elephants in the Okavango by Michelle OConnell"},{name:"Giraffes at watering hole",link:"https://bit.ly/3UoKrDX",alt:"Giraffes at a watering hole by Michelle OConnell"},{name:"Oryx in Sossusvlei",link:"https://bit.ly/4hi1vWd",alt:"Oryx in Sossusvlei by Michelle OConnell"},{name:"Zebras in Etosha",link:"http://bit.ly/3Ae2ciy",alt:"Zebras in the Etosha Pan by Michelle OConnell"},{name:"Namib Sand Sea",link:"https://bit.ly/3UqD4fj",alt:"Namib Sand Sea by Michelle OConnell"}].forEach((e=>{const t=w(e);q.append(t)})),M=e,document.querySelectorAll(M.formSelector).forEach((e=>{((e,l)=>{const r=Array.from(e.querySelectorAll(l.inputSelector)),o=e.querySelector(l.submitButtonSelector);n(r,o,l),r.forEach((a=>{a.addEventListener("input",(function(){((e,n,l)=>{n.validity.valid?t(e,n,l):((e,t,n,l)=>{e.querySelector(`#${t.id}-error`).textContent=n,t.classList.add(l.inputErrorClass)})(e,n,n.validationMessage,l)})(e,a,l),n(r,o,l)}))}))})(e,M)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFVUixFQUN6QyxHQUFFLEdBQ0YsRUFNQTJFLENBQWtCN0UsRUFBUUUsRUFBTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEZWNsYXJpbmcgYSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBuZWNlc3NhcnkgY2xhc3NlcyBhbmQgc2VsZWN0b3JzLlxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0XCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdF9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIiwgLy8/XG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xuICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsLCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICBidXR0b25FbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTsgLy9hZGQgbW9kaWZpZXIgY2xhc3Ncbn07XG5cbi8vT3B0aW9uYWxcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsLCBpbnB1dExpc3QsIGNvbmZpZykgPT4ge1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xuICB9KTtcbn07XG5cbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XG4gIC8vZm9ybUVsIGlzIGFuIGFyYml0cmFyeSBpZGVudGlmaWVyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uRWwgPSBmb3JtRWwucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZyk7XG5cbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpO1xuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XG4gIH0pO1xufTtcblxuLy8gUGFzc2luZyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gZW5hYmxlVmFsaWRhdGlvbiB3aGVuIHdlIGNhbGwgaXQuXG4vL2VuYWJsZVZhbGlkYXRpb24odmFsaWRhaXRvbkNvbmZpZyk7XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIGRpc2FibGVCdXR0b24sXG4gIHJlc2V0VmFsaWRhdGlvbixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIkVsZXBoYW50IHBvcnRyYWl0XCIsXG4gICAgbGluazogXCJodHRwczovL2JpdC5seS80aGkxQk56XCIsXG4gICAgYWx0OiBcIkVsZXBoYW50IHBvcnRyYWl0IGJ5IE1pY2hlbGxlIE9Db25uZWxsXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkVsZXBoYW50cyBpbiB0aGUgT2thdmFuZ29cIixcbiAgICBsaW5rOiBcImh0dHBzOi8vYml0Lmx5LzRma1FXUWdcIixcbiAgICBhbHQ6IFwiRWxlcGhhbnRzIGluIHRoZSBPa2F2YW5nbyBieSBNaWNoZWxsZSBPQ29ubmVsbFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJHaXJhZmZlcyBhdCB3YXRlcmluZyBob2xlXCIsXG4gICAgbGluazogXCJodHRwczovL2JpdC5seS8zVW9LckRYXCIsXG4gICAgYWx0OiBcIkdpcmFmZmVzIGF0IGEgd2F0ZXJpbmcgaG9sZSBieSBNaWNoZWxsZSBPQ29ubmVsbFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJPcnl4IGluIFNvc3N1c3ZsZWlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vYml0Lmx5LzRoaTF2V2RcIixcbiAgICBhbHQ6IFwiT3J5eCBpbiBTb3NzdXN2bGVpIGJ5IE1pY2hlbGxlIE9Db25uZWxsXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlplYnJhcyBpbiBFdG9zaGFcIixcbiAgICBsaW5rOiBcImh0dHA6Ly9iaXQubHkvM0FlMmNpeVwiLFxuICAgIGFsdDogXCJaZWJyYXMgaW4gdGhlIEV0b3NoYSBQYW4gYnkgTWljaGVsbGUgT0Nvbm5lbGxcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTmFtaWIgU2FuZCBTZWFcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vYml0Lmx5LzNVcUQ0ZmpcIixcbiAgICBhbHQ6IFwiTmFtaWIgU2FuZCBTZWEgYnkgTWljaGVsbGUgT0Nvbm5lbGxcIixcbiAgfSxcbl07XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8vIENvbnN0YW50czpcbmNvbnN0IHByb2ZpbGVFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbmNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcbmNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdOyAvL1doeSBicmFja2V0cz9cbmNvbnN0IGVkaXRNb2RhbENsb3NlQnRuID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbmNvbnN0IGVkaXRNb2RhbE5hbWVJbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQgPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXG4pO1xuY29uc3QgY2FyZE1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJhZGQtY2FyZC1mb3JtXCJdOyAvL1doeSBicmFja2V0cz9cbmNvbnN0IGNhcmRTdWJtaXRCdG4gPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xuY29uc3QgY2FyZE1vZGFsQ2xvc2VidG4gPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgY2FyZExpbmtJbnB1dCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWxpbmstaW5wdXRcIik7XG5jb25zdCBjYXJkQ2FwdGlvbklucHV0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjY2FwdGlvbi1pbnB1dFwiKTtcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdNb2RhbEltYWdlRWwgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtcHJldmlld1wiKTtcbmNvbnN0IHByZXZpZXdNb2RhbENhcHRpb25FbCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xuY29uc3QgcHJldmlld01vZGFsQ2xvc2VidG4gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2Nsb3NlLWJ0bl90eXBlX3ByZXZpZXdcIlxuKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTsgLy9UaGlzIGFkZHMgdGhlIGNsYXNzIFwibW9kYWxfb3BlbmVkXCIuID8/XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgaGFuZGxlQ2xvc2VPdmVybGF5KTsgLy9UaGlzIGNhbGxzIHRoZSBoYW5kbGVDbG9zZU92ZXJsYXkgZnVuY3Rpb24gd3JpdHRlbiBiZWxvdy4gTXVzdCBoYXZlIGFkZCAmIHJlbW92ZS5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjS2V5UHJlc3MpOyAvL1RoaXMgY2FsbHMgdGhlIGhhbmRsZUVzY0tleVByZXNzIGZ1bmN0aW9uIHdyaXR0ZW4gYmVsb3cuIE11c3QgaGF2ZSBhZGQgJiByZW1vdmUuXG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTsgLy9UaGlzIHJlbW92ZXMgdGhlIGNsYXNzIFwibW9kYWxfb3BlbmVkXCIuID8/XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3NlZG93blwiLCBoYW5kbGVDbG9zZU92ZXJsYXkpO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NLZXlQcmVzcyk7XG59XG5cbi8vQ3JlYXRlcyB0aGUgZnVuY3Rpb24gaGFuZGxlQ2xvc2VPdmVybGF5LiBJdCBzYXlzLCBpZiB0aGVyZSBpcyBhIG1vZGFsIG9wZW4gKGEgdGFyZ2V0IGV2ZW50IHRoYXQgY29udGFpbnMgbW9kYWxfb3BlbiksIGNsb3NlIGl0LiA/P1xuZnVuY3Rpb24gaGFuZGxlQ2xvc2VPdmVybGF5KGV2dCkge1xuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xuICB9XG59XG5cbi8vQ3JlYXRlcyB0aGUgZnVuY3Rpb24gaGFuZGxlRXNjS2V5UHJlc3MuIEl0IHNheXMsIGlmIHRoZSBrZXkgZXZlbnQgaXMgRVNDLCBsb29rIGZvciB0aGUgb3BlbiBtb2RhbCwgYW5kIGlmIHRoZSBtb2RhbCBpcyBvcGVuLCBjbG9zZSBpdC5cbmZ1bmN0aW9uIGhhbmRsZUVzY0tleVByZXNzKGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IG9wZW5lZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7IC8vVGVsbHMgb25seSBjbG9zZSB0aGUgb3BlbmVkIG1vZGFsLlxuICAgIGlmIChvcGVuZWRNb2RhbCkge1xuICAgICAgY2xvc2VNb2RhbChvcGVuZWRNb2RhbCk7XG4gICAgfVxuICB9XG59XG5cbi8vQ3JlYXRlcyB0aGUgZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgLmNsb25lTm9kZSh0cnVlKTsgLy9DcmVhdGVzIGEgY29weSAoY2xvbmUpIGZvciBtYW5pcHVsYXRpb24uIEhhcmQgY29kZSBzdGF5cyBpbiB0YWN0LlxuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmROYW1lRWwgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ0biA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIik7XG4gIGNvbnN0IGNhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG5cbiAgLy9EZWZpbmVzIHdoYXQgZWxlbWVudHMgd2lsbCBiZSBjaGFuZ2VkIGJ5IHdoYXQgaW5wdXRzLlxuICBjYXJkTmFtZUVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBjYXJkSW1hZ2VFbC5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcblxuICBjYXJkTGlrZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7IC8vSXRzIHNldHRpbmcgdGhlIGRlZmF1bHQgc3RhdGUgdG8gYmUgdW5saWtlc1xuXG4gIC8vTGlzdGVucyBmb3IgYSBcImNsaWNrXCIgb24gdGhlIGNhcmRMaWtlQnRuLiBXaGVuIGl0IGhlYXJzIGEgXCJjbGlja1wiLCBpdCB0b2dnbGVzIHRoZSBidXR0b24gb24gYW5kIG9mZi5cbiAgY2FyZExpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkTGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH0pO1xuXG4gIC8vTGlzdGVucyBmb3IgYSBcImNsaWNrXCIgb24gdGhlIGNhcmREZWxldGVCdG4uIFdoZW4gaXQgaGVhcnMgYSBcImNsaWNrXCIsIGl0IHJlbW92ZXMgdGhlIGNhcmQuXG4gIGNhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgLy9MaXN0ZW5zIGZvciBhIFwiY2xpY2tcIiBvbiB0aGUgY2FyZEltYWdlRWwuIFdoZW4gaXQgaGVhcnMgYSBcImNsaWNrXCIsIGl0IG9wZW5zIHRoZSBwcmV2aWV3TW9kYWwgd2l0aCBpbWFnZSwgZGVzY3JpcHRpb24gdGV4dCwgYW5kIGFsdCB0ZXh0LlxuICBjYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xuICAgIHByZXZpZXdNb2RhbENhcHRpb25FbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcbiAgICBwcmV2aWV3TW9kYWxJbWFnZUVsLmFsdCA9IGRhdGEubmFtZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50OyAvLyBUbyBjcmVhdGUgYW5kIHJldHVybiBhIG5ldyBjYXJkIGVsZW1lbnQuLlwicHJvdmlkZXNcIiB0aGUgbmV3IGNhcmQgZWxlbWVudFxufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGFuZGxlcnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vL3N1YmNhdGVnb3J5IG9mIGZ1bmN0aW9ucy0gVGhlIFdoYXQvSG93XG5cbi8vRGVmaW5lcyB3aGF0IHRoZSBoYW5kbGVFZGl0Rm9ybVN1Ym1pdCB3aWxsIGRvLiBJdCBpc1xuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvL3ByZXZlbnRpbmcgdGhlIHJlbG9hZFxuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZTsgLy9KYXZhc2NyaXB0IGtub3dzIHRoYXQgYW4gaW5wdXQgd2lsbCBoYXZlIGEgdmFsdWVcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZTtcbiAgY2xvc2VNb2RhbChlZGl0TW9kYWwpO1xufVxuXG4vL0FkZCBuZXcgY2FyZFxuZnVuY3Rpb24gaGFuZGxlQ2FyZEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBpbnB1dFZhbHVlcyA9IHtcbiAgICBuYW1lOiBjYXJkQ2FwdGlvbklucHV0LnZhbHVlLFxuICAgIGxpbms6IGNhcmRMaW5rSW5wdXQudmFsdWUsXG4gIH07XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoaW5wdXRWYWx1ZXMpO1xuICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7IC8vcHJlLWJlZm9yZSwgYXBwZW5kLWFmdGVyXG4gIGV2dC50YXJnZXQucmVzZXQoKTsgLy90aGVyZSdzIGEgdGFyZ2V0IGVsZW1lbnQgYW5kIGNhbGxpbmcgYSBKUyBmdWN0aW9uIG9uIGl0IC5yZXNldCgpLy8gY3JlYXRpbmcgYSB0ZW1wbGF0ZSB0aGF0IHdpbGwgYmUgZGVmaW5lZCB3aGVuIHRoZSBmdW5jdGlvbiBnZXRzIGNhbGxlZFxuICBkaXNhYmxlQnV0dG9uKGNhcmRTdWJtaXRCdG4sIHZhbGlkYXRpb25Db25maWcpOyAvL3VwZGF0ZWQgd2l0aCB2YWxpZGF0aW9uQ29uZmlnXG4gIGNsb3NlTW9kYWwoY2FyZE1vZGFsKTtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50IExpc3RlbmVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLy9UaGUgV2hlbiBhbmQgd2hpY2ggZWxlbWVudCBjb25uZWN0cyB0byB3aGljaCBldmVudFxuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcblxuICAvL09wdGlvbmFsXG4gIHJlc2V0VmFsaWRhdGlvbihcbiAgICBlZGl0Rm9ybUVsZW1lbnQsXG4gICAgW2VkaXRNb2RhbE5hbWVJbnB1dCwgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dF0sXG4gICAgdmFsaWRhdGlvbkNvbmZpZ1xuICApO1xuXG4gIG9wZW5Nb2RhbChlZGl0TW9kYWwpO1xufSk7XG5cbmVkaXRNb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZWRpdE1vZGFsKTtcbn0pO1xuXG5jYXJkTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XG59KTtcblxuY2FyZE1vZGFsQ2xvc2VidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChjYXJkTW9kYWwpO1xufSk7XG5cbmVkaXRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUVkaXRGb3JtU3VibWl0KTtcblxuY2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVDYXJkRm9ybVN1Ym1pdCk7IC8vZXZ0PXN1Ym1pdCAsIHRhcmdldD1jYXJkRm9ybVxuXG5wcmV2aWV3TW9kYWxDbG9zZWJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG59KTtcblxuLy9Cb3R0b20gYmVjYXVzZSBpdCdzIHZlcnkgZGVwZW5kZW50IG9uIG90aGVyIGZ1bmN0aW9ucy5cbi8vSW5pdGlhbCBhcnJheSBvZiBjYXJkc1xuLy9mb3JFYWNoIGlzIGEgbG9vcC0gZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgaXRzIGdvaW5nIHRvIGNhbGwgdGhlIGdldENhcmRFbGVtZW50XG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pOyAvL1RoaXMgaXMgd2hlcmUgZ2V0Q2FyZEVsZW1lbnQgaXMgY2FsbGVkXG4gIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xufSk7XG5cbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwiY29uZmlnIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsInByb2ZpbGVFZGl0QnRuIiwiZG9jdW1lbnQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsImVkaXRNb2RhbCIsImVkaXRGb3JtRWxlbWVudCIsImZvcm1zIiwiZWRpdE1vZGFsQ2xvc2VCdG4iLCJlZGl0TW9kYWxOYW1lSW5wdXQiLCJlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0IiwiY2FyZE1vZGFsQnRuIiwiY2FyZE1vZGFsIiwiY2FyZEZvcm0iLCJjYXJkU3VibWl0QnRuIiwiY2FyZE1vZGFsQ2xvc2VidG4iLCJjYXJkTGlua0lucHV0IiwiY2FyZENhcHRpb25JbnB1dCIsImNhcmRUZW1wbGF0ZSIsImNhcmRzTGlzdCIsInByZXZpZXdNb2RhbCIsInByZXZpZXdNb2RhbEltYWdlRWwiLCJwcmV2aWV3TW9kYWxDYXB0aW9uRWwiLCJwcmV2aWV3TW9kYWxDbG9zZWJ0biIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNsb3NlT3ZlcmxheSIsImhhbmRsZUVzY0tleVByZXNzIiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImtleSIsIm9wZW5lZE1vZGFsIiwiZ2V0Q2FyZEVsZW1lbnQiLCJkYXRhIiwiY2FyZEVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlRWwiLCJjYXJkTmFtZUVsIiwiY2FyZExpa2VCdG4iLCJjYXJkRGVsZXRlQnRuIiwibmFtZSIsInNyYyIsImxpbmsiLCJhbHQiLCJ0b2dnbGUiLCJyZXNldFZhbGlkYXRpb24iLCJ2YWx1ZSIsImZvckVhY2giLCJwcmV2ZW50RGVmYXVsdCIsInByZXBlbmQiLCJyZXNldCIsIml0ZW0iLCJhcHBlbmQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9